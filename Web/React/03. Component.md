<br />

## Component

- 웹 페이지를 하나의 큰 덩어리로 관리하지 않고, 버튼, 헤더, 카드, 리스트 같은 작은 블록 단위로 나눈 것
- 각 컴포넌트는 독립적이고 재사용 가능

<br />

## Component 종류

### Functional Component

```jsx
function Welcome(props) {
  return <h1>Hello, {props.name}</h1>;
}

export default Welcome;
```

<br />

### Class Component

```jsx
import { Component } from "react";

class Welcome extends React.Component {
  render() {
    return <h1>Hello, {this.props.name}</h1>;
  }
}

export default Welcome;
```

<br />

## Props

### 1. 기본 사용

```jsx
function UserInfo({ name, age }) {
  return (
    <div>
      <p>이름: {name}</p>
      <p>나이: {age}</p>
    </div>
  );
}

function App() {
  return <UserInfo name="Doreen" age={25} />;
}
```

```jsx
import { Component } from "react";

class UserInfo extends Component {
  render() {
    const { name, age } = this.props;
    return (
      <div>
        <p>이름: {name}</p>
        <p>나이: {age}</p>
      </div>
    );
  }
}

function App() {
  return <UserInfo name="Doreen" age={25} />;
}
```

<br />

### 2. defaultProps

```jsx
function UserInfo({ name, age }) {
  return (
    <div>
      <p>이름: {name}</p>
      <p>나이: {age}</p>
    </div>
  );
}

// 기본값 설정
UserInfo.defaultProps = {
  name: "홍길동",
  age: 20,
};

function App() {
  return <UserInfo />;
}
```

```jsx
import { Component } from "react";

class UserInfo extends Component {
  // 기본값 설정
  static defaultProps = {
    name: "홍길동",
    age: 20,
  };

  render() {
    const { name, age } = this.props;
    return (
      <div>
        <p>이름: {name}</p>
        <p>나이: {age}</p>
      </div>
    );
  }
}

function App() {
  return <UserInfo />;
}
```

<br />

### 3. children

```jsx
function Layout({ children }) {
  return (
    <div style={{ border: "1px solid gray", padding: "10px" }}>{children}</div>
  );
}

function App() {
  return (
    <Layout>
      <h1>메인 콘텐츠</h1>
      <p>이 부분이 children으로 들어갑니다.</p>
    </Layout>
  );
}
```

```jsx
function Layout({ children }) {
  return (
    <div style={{ border: "1px solid gray", padding: "10px" }}>{children}</div>
  );
}

function App() {
  return (
    <Layout>
      <h1>메인 콘텐츠</h1>
      <p>이 부분이 children으로 들어갑니다.</p>
    </Layout>
  );
}
```

```jsx
import { Component } from "react";

class Layout extends Component {
  render() {
    const { children } = this.props;
    return (
      <div style={{ border: "1px solid gray", padding: "10px" }}>
        {children}
      </div>
    );
  }
}

function App() {
  return (
    <Layout>
      <h1>메인 콘텐츠</h1>
      <p>이 부분이 children으로 들어갑니다.</p>
    </Layout>
  );
}
```

<br />

### 4. propTypes & isRequired

```jsx
import PropTypes from "prop-types";

function UserInfo({ name, age }) {
  return (
    <div>
      <p>이름: {name}</p>
      <p>나이: {age}</p>
    </div>
  );
}

// props 타입 검사
UserInfo.propTypes = {
  name: PropTypes.string.isRequired,
  age: PropTypes.number,
};

function App() {
  return <UserInfo name="Doreen" age={25} />;
}
```

```jsx
import { Component } from "react";
import PropTypes from "prop-types";

class UserInfo extends Component {
  // props 타입 검사
  static propTypes = {
    name: PropTypes.string.isRequired,
    age: PropTypes.number,
  };

  render() {
    const { name, age } = this.props;
    return (
      <div>
        <p>이름: {name}</p>
        <p>나이: {age}</p>
      </div>
    );
  }
}

function App() {
  return <UserInfo name="Doreen" age={25} />;
}
```

<br />

## State

### 1. Class component에서의 사용

```jsx
import { Component } from "react";

class Counter extends Component {
  state = { count: 0 };
  render() {
    return (
      <button onClick={() => this.setState({ count: this.state.count + 1 })}>
        {this.state.count}
      </button>
    );
  }
}
```

```jsx
// 옛날 방식
import { Component } from "react";

class Counter extends Component {
  constructor(props) {
    super(props);
    this.state = { count: 0 };
  }
  render() {
    return (
      <button onClick={() => this.setState({ count: this.state.count + 1 })}>
        {this.state.count}
      </button>
    );
  }
}
```

<br />

### 2. Functional component에서의 사용

```jsx
// 안전하게 사용
// 여러 번 연속 실행되거나 비동기로 합쳐져도 원하는 대로 동작
import { useState } from "react";

function Counter() {
  const [count, setCount] = useState(0);
  return <button onClick={() => setCount((prev) => prev + 1)}>{count}</button>;
}
```

```jsx
// 안전하지 않게 사용
// 여러 번 연속 실행하면 같은 값 기반으로 계산되어 꼬일 수 있음
import { useState } from "react";

function Counter() {
  const [count, setCount] = useState(0);
  return <button onClick={() => setCount(count + 1)}>{count}</button>;
}
```

<br />

### 3. 콜백 등록

```jsx
import { useState } from "react";

class Counter extends Component {
  state = { count: 0 };
  render() {
    return (
      <button
        onClick={() =>
          this.setState(
            (p) => ({ count: p.count + 1 }),
            () => console.log(this.state.count)
          )
        }
      >
        {this.state.count}
      </button>
    );
  }
}
```

<br />
<br />
<br />
<br />
