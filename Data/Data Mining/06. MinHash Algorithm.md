<br />

세 개의 문서 $S_1$, $S_2$, $S_3$가 있다고 하자.

각 문서에 대해 특정 요소(element)가 포함되어 있으면 1, 포함되어 있지 않으면 0으로 표시한다.

이를 표로 나타내면 다음과 같다.

<p></p>

**Characteristic Matrix**

| Element     | $S_1$ | $S_2$ | $S_3$ |
| ----------- | ----- | ----- | ----- |
| “The plane” | 1     | 0     | 0     |
| “The cow j” | 0     | 0     | 1     |
| “Alice and” | 0     | 1     | 0     |
| “Roses are” | 1     | 0     | 1     |

<p></p>

두 문서 $S_1$와 $S_3$의 유사도는 Jaccard Similarity로 측정할 수 있다.

$$
S_1 = \lbrace0, 3\rbrace, \hspace{0.1cm} S_2 = \lbrace1, 3\rbrace
$$

$$
\text{Jaccard Similarity} = \frac{|S_1 \cap S_3|}{|S_1 \cup S_3|} = \frac{1}{3}
$$

그러나 각 문서의 원소가 수백만 개에 달하면 모든 원소를 직접 비교하는 데 많은 시간이 소요된다.

<p></p>

이 문제를 해결하기 위해 MinHash 알고리즘을 사용하면 집합 간 유사도를 빠르게 추정할 수 있다.

먼저, 각각의 요소에 행숫자와, 해쉬함수 $g_1$, $g_2$열을 만들고 각각의 값을 입력한다.

먼저 각 요소에 행 번호를 부여하고, 해시 함수 $g_1$, $g_2$의 결과를 나타내는 열을 만들어 각각의 값을 채운다.

<p></p>

**Signature Matrix**

| Row | Element     | $S_1$ | $S_2$ | $S_3$ | $g_1:x+1\hspace{0.1cm}mod\hspace{0.1cm}4$ | $g_2:3x+1\hspace{0.1cm}mod\hspace{0.1cm}4$ |
| --- | ----------- | ----- | ----- | ----- | ----------------------------------------- | ------------------------------------------ |
| 0   | “The plane” | 1     | 0     | 0     | 1                                         | 1                                          |
| 1   | “The cow j” | 0     | 0     | 1     | 2                                         | 0                                          |
| 2   | “Alice and” | 0     | 1     | 0     | 3                                         | 3                                          |
| 3   | “Roses are” | 1     | 0     | 1     | 0                                         | 2                                          |

<p></p>

이제 해시 결과를 바탕으로, 각 문서에서 1로 표시된 요소들 중 가장 작은 해시값을 구한다.

| Hash Function | $S_1$ | $S_2$ | $S_3$ |
| ------------- | ----- | ----- | ----- |
| $g_1$         | 0     | 3     | 0     |
| $g_2$         | 1     | 3     | 0     |

<p></p>

위 표를 바탕으로 MinHash 추정치를 계산하면 다음과 같다.

$$
\text{Estimate} = \frac{\text{Number of matching hash values}}{\text{Total number of hash functions}} = \frac{1}{2}
$$

<p></p>

이처럼 MinHash 알고리즘을 사용하면 대규모 집합에서도 원소를 하나하나 비교하지 않고, 작은 시그니처만으로 유사도를 빠르게 추정할 수 있다.

따라서 문서, 웹 페이지, 소셜 그래프 등에서 효율적으로 유사도를 계산할 수 있다는 장점이 있다.

<br />
<br />
<br />
<br />
